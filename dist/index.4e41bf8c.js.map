{"mappings":"A,S,E,C,E,O,G,E,U,C,E,O,C,C,C,I,E,W,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,A,C,E,E,Q,A,E,Q,S,C,C,C,E,O,c,C,E,O,C,W,C,I,I,E,I,A,G,E,E,W,C,E,a,C,C,GCEA,IAgBA,EAhBI,EAAU,IAAI,IAgBlB,EAfA,SAAkB,CAAO,CAAE,CAAQ,EACjC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAS,MAAM,CAAG,EAAG,GAAK,EAC5C,EAAQ,GAAG,CAAC,CAAQ,CAAC,EAAE,CAAE,CACvB,QAAS,EACT,KAAM,CAAQ,CAAC,EAAI,EAAE,AACvB,EAEJ,C,GCVA,AAAA,EAAA,SAAA,QAAA,CAA8C,IAAA,IAAoB,GAAA,YAAA,GAAA,EAAI,QAAQ,GAAG,KAAK,KAAK,CAAC,iG,I,E,C,EGA5F,EAAiB,IAAA,IAAoB,sCAAA,YAAA,GAAA,EAAuC,QAAQ,ECErE,OAAA,EACb,KAAM,AACN,CAAA,OAAO,CAAI,CAAE,EAAS,CAAA,CAAI,CAAE,CAC1B,GAAI,CAAC,GAAS,MAAM,OAAO,CAAC,IAAS,AAAgB,IAAhB,EAAK,MAAM,CAC9C,OAAO,IAAI,CAAC,WAAW,EAEzB,CAAA,IAAI,CAAC,KAAK,CAAG,EACb,IAAM,EAAS,IAAI,CAAC,eAAe,GAEnC,GAAI,CAAC,EAAQ,OAAO,EAEpB,IAAI,CAAC,MAAM,GACX,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,aAAc,EAClD,CAEA,OAAO,CAAI,CAAE,CAGX,IAAI,CAAC,KAAK,CAAG,EACb,IAAM,EAAY,IAAI,CAAC,eAAe,GAGhC,EAAa,MAAM,IAAI,CAAC,AADf,SAAS,WAAW,GAAG,wBAAwB,CAAC,GAC1B,gBAAgB,CAAC,MAChD,EAAa,MAAM,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,MAI9D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","sources":["<anon>","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-223ff35c24970e3c.js","src/js/controller.js","src/js/views/recipeView.js","node_modules/@parcel/runtime-js/lib/runtime-73fc1c9d6d356365.js","src/js/views/View.js","src/js/model.js","src/js/config.js","src/js/helper.js","src/js/views/SearchView.js","src/js/views/resultsView.js","src/js/views/previewView.js","src/js/views/paginationView.js","src/js/views/bookmarksView.js","src/js/views/addRecipeView.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire3a11\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire3a11\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"27Lyk\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", () => $18c11f3350a906ea$export$6503ec6e8aabbaf, (v) => $18c11f3350a906ea$export$6503ec6e8aabbaf = v);\nvar $18c11f3350a906ea$export$6503ec6e8aabbaf;\nvar $18c11f3350a906ea$export$f7ad0328861e2f03;\n\"use strict\";\nvar $18c11f3350a906ea$var$mapping = new Map();\nfunction $18c11f3350a906ea$var$register(baseUrl, manifest) {\n    for(var i = 0; i < manifest.length - 1; i += 2)$18c11f3350a906ea$var$mapping.set(manifest[i], {\n        baseUrl: baseUrl,\n        path: manifest[i + 1]\n    });\n}\nfunction $18c11f3350a906ea$var$resolve(id) {\n    var resolved = $18c11f3350a906ea$var$mapping.get(id);\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return new URL(resolved.path, resolved.baseUrl).toString();\n}\n$18c11f3350a906ea$export$6503ec6e8aabbaf = $18c11f3350a906ea$var$register;\n$18c11f3350a906ea$export$f7ad0328861e2f03 = $18c11f3350a906ea$var$resolve;\n\n});\n\nvar $f98cebd3e0831e94$exports = {};\n\n(parcelRequire(\"27Lyk\")).register(new URL(\"\", import.meta.url).toString(), JSON.parse('[\"f9fpV\",\"index.4e41bf8c.js\",\"eyyUD\",\"icons.c14567a0.svg\"]'));\n\nvar $77b629c0b49e8bca$exports = {};\n$77b629c0b49e8bca$exports = new URL(\"icons.c14567a0.svg\", import.meta.url).toString();\n\n\n\nclass $3a07c34e115c11c9$export$2e2bcd8739ae039 {\n    _data;\n    render(data, render = true) {\n        if (!data || Array.isArray(data) && data.length === 0) return this.renderError();\n        this._data = data;\n        const markup = this._generateMarkup();\n        if (!render) return markup;\n        this._clear();\n        this._parentEl.insertAdjacentHTML(\"afterbegin\", markup);\n    }\n    update(data) {\n        // if (!data || (Array.isArray(data) && data.length === 0))\n        //   return this.renderError();\n        this._data = data;\n        const newMarkup = this._generateMarkup();\n        const newDOM = document.createRange().createContextualFragment(newMarkup);\n        const newElement = Array.from(newDOM.querySelectorAll(\"*\"));\n        const curElement = Array.from(this._parentEl.querySelectorAll(\"*\"));\n        // console.log(newElement);\n        // console.log(curElement);\n        newElement.forEach((newEl, i)=>{\n            const curEl = curElement[i];\n            // console.log(curEl, newEl.isEqualNode(curEl));\n            // update changed text\n            if (!newEl.isEqualNode(curEl) && newEl.firstChild?.nodeValue.trim() !== \"\") curEl.textContent = newEl.textContent;\n            // update changed attribute\n            if (!newEl.isEqualNode(curEl)) Array.from(newEl.attributes).forEach((attr)=>curEl.setAttribute(attr.name, attr.value));\n        });\n    }\n    _clear() {\n        this._parentEl.innerHTML = \"\";\n    }\n    renderSpinner() {\n        const markup = `\r\n        <div class=\"spinner\">\r\n        <svg>\r\n            <use href=\"${(0, (/*@__PURE__*/$parcel$interopDefault($77b629c0b49e8bca$exports)))}#icon-loader\"></use>\r\n        </svg>\r\n        </div>\r\n    `;\n        this._clear();\n        this._parentEl.insertAdjacentHTML(\"afterbegin\", markup);\n    }\n    renderError(message = this._errorMessage) {\n        const markup = `\r\n      <div class=\"error\">\r\n        <div>\r\n          <svg>\r\n            <use href=\"${(0, (/*@__PURE__*/$parcel$interopDefault($77b629c0b49e8bca$exports)))}#icon-alert-triangle\"></use>\r\n          </svg>\r\n        </div>\r\n        <p>${message}</p>\r\n      </div>\r\n    `;\n        this._clear();\n        this._parentEl.insertAdjacentHTML(\"afterbegin\", markup);\n    }\n    renderMessage(message = this._message) {\n        const markup = `\r\n      <div class=\"message\">\r\n        <div>\r\n          <svg>\r\n            <use href=\"${(0, (/*@__PURE__*/$parcel$interopDefault($77b629c0b49e8bca$exports)))}#icon-smile\"></use>\r\n          </svg>\r\n        </div>\r\n        <p>${message}</p>\r\n      </div>\r\n    `;\n        this._clear();\n        this._parentEl.insertAdjacentHTML(\"afterbegin\", markup);\n    }\n}\n\n\nclass $d14dc0f178617192$var$RecipeView extends (0, $3a07c34e115c11c9$export$2e2bcd8739ae039) {\n    _parentEl = document.querySelector(\".recipe\");\n    _errorMessage = \"We could not find that recipe. Please try another one! \";\n    _message = \"\";\n    addHandlerRender(handler) {\n        [\n            \"hashchange\",\n            \"load\"\n        ].forEach((ev)=>window.addEventListener(ev, handler));\n    }\n    addHandlerUpdateServings(handler) {\n        this._parentEl.addEventListener(\"click\", function(e) {\n            const btn = e.target.closest(\".btn--update-servings\");\n            if (!btn) return;\n            const updateTo = +btn.dataset.updateTo;\n            if (updateTo > 0) handler(updateTo);\n        });\n    }\n    addHandlerAddBookmark(handler) {\n        this._parentEl.addEventListener(\"click\", function(e) {\n            const btn = e.target.closest(\".btn--bookmark\");\n            if (!btn) return;\n            handler();\n        });\n    }\n    _generateMarkup() {\n        return `\r\n        <figure class=\"recipe__fig\">\r\n            <img src=\"${this._data.image}\" alt=\"${this._data.title}\" class=\"recipe__img\" />\r\n            <h1 class=\"recipe__title\">\r\n                <span>${this._data.title}</span>\r\n            </h1>\r\n            </figure>\r\n\r\n            <div class=\"recipe__details\">\r\n            <div class=\"recipe__info\">\r\n                <svg class=\"recipe__info-icon\">\r\n                <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($77b629c0b49e8bca$exports))}#icon-clock\"></use>\r\n                </svg>\r\n                <span class=\"recipe__info-data recipe__info-data--minutes\">${this._data.cookingTime}</span>\r\n                <span class=\"recipe__info-text\">minutes</span>\r\n            </div>\r\n            <div class=\"recipe__info\">\r\n                <svg class=\"recipe__info-icon\">\r\n                <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($77b629c0b49e8bca$exports))}#icon-users\"></use>\r\n                </svg>\r\n                <span class=\"recipe__info-data recipe__info-data--people\">${this._data.servings}</span>\r\n                <span class=\"recipe__info-text\">servings</span>\r\n\r\n                <div class=\"recipe__info-buttons\">\r\n                <button data-update-to=\"${this._data.servings - 1}\"\r\n                 class=\"btn--tiny btn--update-servings\">\r\n                    <svg>\r\n                    <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($77b629c0b49e8bca$exports))}#icon-minus-circle\"></use>\r\n                    </svg>\r\n                </button>\r\n                <button data-update-to=\"${this._data.servings + 1}\"\r\n                 class=\"btn--tiny btn--update-servings\" >\r\n                    <svg>\r\n                    <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($77b629c0b49e8bca$exports))}#icon-plus-circle\"></use>\r\n                    </svg>\r\n                </button>\r\n                </div>\r\n            </div>\r\n            <div class=\"recipe__user-generated ${this._data.key ? \"\" : \"hidden\"}\">\r\n              <svg>\r\n                <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($77b629c0b49e8bca$exports))}#icon-user\"></use>\r\n              </svg>\r\n            </div>\r\n            <button class=\"btn--round btn--bookmark\">\r\n                <svg class=\"\">\r\n                <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($77b629c0b49e8bca$exports))}#icon-bookmark${this._data.bookmarked ? \"-fill\" : \"\"}\"></use>\r\n                </svg>\r\n            </button>\r\n            </div>\r\n\r\n\r\n            <div class=\"recipe__ingredients\">\r\n            <h2 class=\"heading--2\">Recipe ingredients</h2>\r\n            <ul class=\"recipe__ingredient-list\">\r\n                ${this._data.ingredients.map((ing)=>this._renderIngredient(ing)).join(\"\")}\r\n            </ul>\r\n            </div>\r\n\r\n            <div class=\"recipe__directions\">\r\n            <h2 class=\"heading--2\">How to cook it</h2>\r\n            <p class=\"recipe__directions-text\">\r\n                This recipe was carefully designed and tested by\r\n                <span class=\"recipe__publisher\">${this._data.publisher}</span>. Please check out\r\n                directions at their website.\r\n            </p>\r\n            <a\r\n                class=\"btn--small recipe__btn\"\r\n                href=\"${this._data.sourceUrl}\"\r\n                target=\"_blank\"\r\n            >\r\n                <span>Directions</span>\r\n                <svg class=\"search__icon\">\r\n                <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($77b629c0b49e8bca$exports))}#icon-arrow-right\"></use>\r\n                </svg>\r\n            </a>\r\n            </div>\r\n        `;\n    }\n    _renderIngredient(ing) {\n        return `\r\n        <li class=\"recipe__ingredient\">\r\n            <svg class=\"recipe__icon\">\r\n                <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($77b629c0b49e8bca$exports))}#icon-check\"></use>\r\n            </svg>\r\n            <div class=\"recipe__quantity\">${ing.quantity ? ing.quantity : \"\"}</div>\r\n            <div class=\"recipe__description\">\r\n                <span class=\"recipe__unit\">${ing.unit}</span>\r\n                ${ing.description}\r\n            </div>\r\n        </li>\r\n    `;\n    }\n}\nvar $d14dc0f178617192$export$2e2bcd8739ae039 = new $d14dc0f178617192$var$RecipeView();\n\n\nconst $ba30e20475feac5a$export$923ea8233b386e99 = \"https://forkify-api.herokuapp.com/api/v2/recipes/\";\nconst $ba30e20475feac5a$export$196440f71ed9f601 = 10;\nconst $ba30e20475feac5a$export$5feaddb1377b7f5e = 15;\nconst $ba30e20475feac5a$export$7167c830cefcb6b5 = \"ed8ed486-9f90-4060-818f-bdafe018762b\";\nconst $ba30e20475feac5a$export$3ce8858248d89a69 = 2;\n\n\n\nconst $d3824bf2ef2465db$var$timeout = function(s) {\n    return new Promise(function(_, reject) {\n        setTimeout(function() {\n            reject(new Error(`Request took too long! Timeout after ${s} second`));\n        }, s * 1000);\n    });\n};\nconst $d3824bf2ef2465db$export$2b3ff41fecbef7c8 = async function(url, uploadData) {\n    try {\n        const fetchPro = uploadData ? fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(uploadData)\n        }) : fetch(url);\n        const res = await Promise.race([\n            fetchPro,\n            $d3824bf2ef2465db$var$timeout((0, $ba30e20475feac5a$export$196440f71ed9f601))\n        ]);\n        const data = await res.json();\n        if (!res.ok) throw new Error(`${data.message} (${res.status})`);\n        return data;\n    } catch (err) {\n        throw err;\n    }\n}; /* export const getJSON = async function (url) {\r\n  try {\r\n    const fetchPro = fetch(url);\r\n    const res = await Promise.race([fetchPro, timeout(TIMEOUT_SEC)]);\r\n    const data = await res.json();\r\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\r\n    return data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const sendJSON = async function (url, uploadData) {\r\n  try {\r\n    const fetchPro = fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(uploadData),\r\n    });\r\n    const res = await Promise.race([fetchPro, timeout(TIMEOUT_SEC)]);\r\n    const data = await res.json();\r\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\r\n    return data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n}; */ \n\n\nconst $0f1d4402dffacf5b$export$ca000e230c0caa3e = {\n    recipe: {},\n    search: {\n        query: \"\",\n        results: [],\n        page: 1,\n        resultsPerPage: (0, $ba30e20475feac5a$export$5feaddb1377b7f5e)\n    },\n    bookmarks: []\n};\nconst $0f1d4402dffacf5b$var$createRecipeObject = function(data) {\n    const { recipe: recipe } = data.data;\n    return {\n        id: recipe.id,\n        title: recipe.title,\n        publisher: recipe.publisher,\n        sourceUrl: recipe.source_url,\n        image: recipe.image_url,\n        servings: recipe.servings,\n        cookingTime: recipe.cooking_time,\n        ingredients: recipe.ingredients,\n        ...recipe.key && {\n            key: recipe.key\n        }\n    };\n};\nconst $0f1d4402dffacf5b$export$b96725c7a035d60b = async function(id) {\n    try {\n        const data = await (0, $d3824bf2ef2465db$export$2b3ff41fecbef7c8)(`${(0, $ba30e20475feac5a$export$923ea8233b386e99)}${id}?key=${(0, $ba30e20475feac5a$export$7167c830cefcb6b5)}`);\n        $0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe = $0f1d4402dffacf5b$var$createRecipeObject(data);\n        if ($0f1d4402dffacf5b$export$ca000e230c0caa3e.bookmarks.some((bookmark)=>bookmark.id === id)) $0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe.bookmarked = true;\n        else $0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe.bookmarked = false;\n    } catch (err) {\n        console.error(`${err} \\u{1F4A5}\\u{1F4A5}\\u{1F4A5}`);\n        throw err;\n    }\n};\nconst $0f1d4402dffacf5b$export$202b8e5cb363a0c4 = async function(query) {\n    try {\n        $0f1d4402dffacf5b$export$ca000e230c0caa3e.search.query = query;\n        const data = await (0, $d3824bf2ef2465db$export$2b3ff41fecbef7c8)(`${(0, $ba30e20475feac5a$export$923ea8233b386e99)}?search=${query}&key=${(0, $ba30e20475feac5a$export$7167c830cefcb6b5)}`);\n        $0f1d4402dffacf5b$export$ca000e230c0caa3e.search.results = data.data.recipes.map((rec)=>{\n            return {\n                id: rec.id,\n                title: rec.title,\n                publisher: rec.publisher,\n                image: rec.image_url,\n                ...rec.key && {\n                    key: rec.key\n                }\n            };\n        });\n        $0f1d4402dffacf5b$export$ca000e230c0caa3e.search.page = 1;\n    } catch (err) {\n        console.error(`${err} \\u{1F4A5}\\u{1F4A5}\\u{1F4A5}`);\n        throw err;\n    }\n};\nconst $0f1d4402dffacf5b$export$8d7f79465139ab72 = function(page = $0f1d4402dffacf5b$export$ca000e230c0caa3e.search.page) {\n    $0f1d4402dffacf5b$export$ca000e230c0caa3e.search.page = page;\n    const start = (page - 1) * $0f1d4402dffacf5b$export$ca000e230c0caa3e.search.resultsPerPage;\n    const end = page * $0f1d4402dffacf5b$export$ca000e230c0caa3e.search.resultsPerPage;\n    return $0f1d4402dffacf5b$export$ca000e230c0caa3e.search.results.slice(start, end);\n};\nconst $0f1d4402dffacf5b$export$5e23f4642ecad5ea = function(newServings) {\n    $0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe.ingredients.forEach((ing)=>{\n        ing.quantity = ing.quantity * newServings / $0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe.servings;\n    });\n    $0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe.servings = newServings;\n};\nconst $0f1d4402dffacf5b$var$persistBookmark = function() {\n    localStorage.setItem(\"bookmarks\", JSON.stringify($0f1d4402dffacf5b$export$ca000e230c0caa3e.bookmarks));\n};\nconst $0f1d4402dffacf5b$export$9810234b614cab40 = function(recipe) {\n    // Add bookmark\n    $0f1d4402dffacf5b$export$ca000e230c0caa3e.bookmarks.push(recipe);\n    // Mark current recipe as bookmark\n    if (recipe.id === $0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe.id) $0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe.bookmarked = true;\n    $0f1d4402dffacf5b$var$persistBookmark();\n};\nconst $0f1d4402dffacf5b$export$52e7f13504596d3e = function(id) {\n    // Delete Bookmarked\n    const index = $0f1d4402dffacf5b$export$ca000e230c0caa3e.bookmarks.findIndex((el)=>el.id === id);\n    $0f1d4402dffacf5b$export$ca000e230c0caa3e.bookmarks.splice(index, 1);\n    // Mark current recipe as not a bookmark\n    if (id === $0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe.id) $0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe.bookmarked = false;\n    $0f1d4402dffacf5b$var$persistBookmark();\n};\nconst $0f1d4402dffacf5b$var$init = function() {\n    const storage = localStorage.getItem(\"bookmarks\");\n    if (storage) $0f1d4402dffacf5b$export$ca000e230c0caa3e.bookmarks = JSON.parse(storage);\n};\n$0f1d4402dffacf5b$var$init();\nconst $0f1d4402dffacf5b$export$d660c2254e74960d = async function(newRecipe) {\n    try {\n        const ingredients = Object.entries(newRecipe).filter((entry)=>entry[0].startsWith(\"ingredient\") && entry[1] !== \"\").map((ing)=>{\n            // const ingArr = ing[1].replaceAll(' ', '').split(',');\n            const ingArr = ing[1].split(\",\").map((el)=>el.trim());\n            if (ingArr.length !== 3) throw new Error(\"Wrong ingredient format! Please use the correct format :)\");\n            const [quantity, unit, description] = ingArr;\n            return {\n                quantity: quantity ? +quantity : null,\n                unit: unit,\n                description: description\n            };\n        });\n        const recipe = {\n            title: newRecipe.title,\n            publisher: newRecipe.publisher,\n            source_url: newRecipe.sourceUrl,\n            image_url: newRecipe.image,\n            servings: +newRecipe.servings,\n            cooking_time: +newRecipe.cookingTime,\n            ingredients: ingredients\n        };\n        console.log(recipe);\n        const data = await (0, $d3824bf2ef2465db$export$2b3ff41fecbef7c8)(`${(0, $ba30e20475feac5a$export$923ea8233b386e99)}?key=${(0, $ba30e20475feac5a$export$7167c830cefcb6b5)}`, recipe);\n        $0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe = $0f1d4402dffacf5b$var$createRecipeObject(data);\n        $0f1d4402dffacf5b$export$9810234b614cab40($0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe);\n    } catch (err) {\n        throw err;\n    }\n};\n\n\nclass $4cb4e5e8d692772b$var$SearchView {\n    _parentEl = document.querySelector(\".search\");\n    getQuery() {\n        const query = this._parentEl.querySelector(\".search__field\").value;\n        this._clearInput();\n        return query;\n    }\n    _clearInput() {\n        this._parentEl.querySelector(\".search__field\").value = \"\";\n    }\n    addHandlerSearch(handler) {\n        this._parentEl.addEventListener(\"submit\", function(e) {\n            e.preventDefault();\n            handler();\n        });\n    }\n}\nvar $4cb4e5e8d692772b$export$2e2bcd8739ae039 = new $4cb4e5e8d692772b$var$SearchView();\n\n\n\n\n\nclass $a68ceb92eae160df$var$PreviewView extends (0, $3a07c34e115c11c9$export$2e2bcd8739ae039) {\n    _parentEl = \"\";\n    _generateMarkup() {\n        const id = window.location.hash.slice(1);\n        return `\r\n    <li class=\"preview\">\r\n      <a class=\"preview__link ${this._data.id === id ? \"preview__link--active\" : \"\"}\" href=\"#${this._data.id}\">\r\n        <figure class=\"preview__fig\">\r\n          <img src=\"${this._data.image}\" alt=\"${this._data.title}\" />\r\n        </figure>\r\n        <div class=\"preview__data\">\r\n          <h4 class=\"preview__title\">${this._data.title}</h4>\r\n          <p class=\"preview__publisher\">${this._data.publisher}</p>\r\n          <div class=\"preview__user-generated ${this._data.key ? \"\" : \"hidden\"}\">\r\n              <svg>\r\n                <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($77b629c0b49e8bca$exports))}#icon-user\"></use>\r\n              </svg>\r\n          </div>\r\n        </div>\r\n      </a>\r\n    </li>\r\n    `;\n    }\n}\nvar $a68ceb92eae160df$export$2e2bcd8739ae039 = new $a68ceb92eae160df$var$PreviewView();\n\n\n\nclass $dddbd0b30676c4ae$var$ResultsView extends (0, $3a07c34e115c11c9$export$2e2bcd8739ae039) {\n    _parentEl = document.querySelector(\".results\");\n    _errorMessage = \"No recipes found for your query! Please try again ;)\";\n    _message = \"\";\n    _generateMarkup() {\n        return this._data.map((result)=>(0, $a68ceb92eae160df$export$2e2bcd8739ae039).render(result, false)).join(\"\");\n    }\n}\nvar $dddbd0b30676c4ae$export$2e2bcd8739ae039 = new $dddbd0b30676c4ae$var$ResultsView();\n\n\n\n\nclass $cfa940594ee109f7$var$PaginationView extends (0, $3a07c34e115c11c9$export$2e2bcd8739ae039) {\n    _parentEl = document.querySelector(\".pagination\");\n    addHandlerClick(handler) {\n        this._parentEl.addEventListener(\"click\", function(e) {\n            const btn = e.target.closest(\".btn--inline\");\n            if (!btn) return;\n            console.log(btn);\n            const goto = +btn.dataset.goto;\n            handler(goto);\n        });\n    }\n    _generateMarkup() {\n        const numPage = Math.ceil(this._data.results.length / this._data.resultsPerPage);\n        const curPage = this._data.page;\n        // Page 1, and there are another pages\n        if (curPage === 1 && numPage > 1) return this._generateNextBtn(curPage);\n        // last page\n        if (numPage > 1 && curPage === numPage) return this._generatePerviousBtn(curPage);\n        // middle pages\n        if (curPage > 1 && curPage < numPage) return `\r\n        ${this._generatePerviousBtn(curPage)}\r\n        ${this._generateNextBtn(curPage)}\r\n      `;\n        // Page 1, and No another pages\n        return \"\";\n    }\n    _generatePerviousBtn(curPage) {\n        return `\r\n          <button data-goto=\"${curPage - 1}\"\r\n           class=\"btn--inline pagination__btn--prev\">\r\n            <svg class=\"search__icon\">\r\n              <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($77b629c0b49e8bca$exports))}#icon-arrow-left\"></use>\r\n            </svg>\r\n            <span>Page ${curPage - 1}</span>\r\n          </button>\r\n      `;\n    }\n    _generateNextBtn(curPage) {\n        return `\r\n          <button data-goto=\"${curPage + 1}\"\r\n           class=\"btn--inline pagination__btn--next\">\r\n            <span>Page ${curPage + 1}</span>\r\n            <svg class=\"search__icon\">\r\n              <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($77b629c0b49e8bca$exports))}#icon-arrow-right\"></use>\r\n            </svg>\r\n          </button>\r\n      `;\n    }\n}\nvar $cfa940594ee109f7$export$2e2bcd8739ae039 = new $cfa940594ee109f7$var$PaginationView();\n\n\n\n\n\nclass $5d1bb7e064b2cbd1$var$BookmarksView extends (0, $3a07c34e115c11c9$export$2e2bcd8739ae039) {\n    _parentEl = document.querySelector(\".bookmarks__list\");\n    _errorMessage = \"No bookmarks yet. Find a nice recipe and bookmark it :)\";\n    _message = \"\";\n    addHandlerRender(handler) {\n        window.addEventListener(\"load\", handler);\n    }\n    _generateMarkup() {\n        return this._data.map((bookmark)=>(0, $a68ceb92eae160df$export$2e2bcd8739ae039).render(bookmark, false)).join(\"\");\n    }\n}\nvar $5d1bb7e064b2cbd1$export$2e2bcd8739ae039 = new $5d1bb7e064b2cbd1$var$BookmarksView();\n\n\n\n\nclass $e5dc5dc5ede8bdf4$var$AddRecipeView extends (0, $3a07c34e115c11c9$export$2e2bcd8739ae039) {\n    _parentEl = document.querySelector(\".upload\");\n    _message = \"Recipe was successfully uploaded :)\";\n    _window = document.querySelector(\".add-recipe-window\");\n    _overlay = document.querySelector(\".overlay\");\n    _btnOpen = document.querySelector(\".nav__btn--add-recipe\");\n    _btnClose = document.querySelector(\".btn--close-modal\");\n    constructor(){\n        super();\n        this._addHandlerShowWindow();\n        this._addHandlerHideWindow();\n    }\n    toggleWindow() {\n        this._overlay.classList.toggle(\"hidden\");\n        this._window.classList.toggle(\"hidden\");\n    }\n    _addHandlerShowWindow() {\n        this._btnOpen.addEventListener(\"click\", this.toggleWindow.bind(this));\n    }\n    _addHandlerHideWindow() {\n        this._btnClose.addEventListener(\"click\", this.toggleWindow.bind(this));\n        this._overlay.addEventListener(\"click\", this.toggleWindow.bind(this));\n    }\n    addHandlerUpload(handler) {\n        this._parentEl.addEventListener(\"submit\", function(e) {\n            e.preventDefault();\n            const dataArr = [\n                ...new FormData(this)\n            ];\n            const data = Object.fromEntries(dataArr);\n            handler(data);\n        });\n    }\n    _generateMarkup() {}\n}\nvar $e5dc5dc5ede8bdf4$export$2e2bcd8739ae039 = new $e5dc5dc5ede8bdf4$var$AddRecipeView();\n\n\n\n// if (module.hot) {\n//   module.hot.accept();\n// }\nconst $f50bd1f2915ed0f2$var$controlRecipes = async function() {\n    try {\n        const id = window.location.hash.slice(1);\n        if (!id) return;\n        // 1) Rendering Data\n        (0, $d14dc0f178617192$export$2e2bcd8739ae039).renderSpinner();\n        (0, $dddbd0b30676c4ae$export$2e2bcd8739ae039).update($0f1d4402dffacf5b$export$8d7f79465139ab72());\n        (0, $5d1bb7e064b2cbd1$export$2e2bcd8739ae039).update($0f1d4402dffacf5b$export$ca000e230c0caa3e.bookmarks);\n        await $0f1d4402dffacf5b$export$b96725c7a035d60b(id);\n        // 2) Rendering Recipe\n        (0, $d14dc0f178617192$export$2e2bcd8739ae039).render($0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe);\n        console.log($0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe);\n    } catch (err) {\n        (0, $d14dc0f178617192$export$2e2bcd8739ae039).renderError();\n        console.error(err);\n    }\n};\nconst $f50bd1f2915ed0f2$var$controlSearchResults = async function() {\n    try {\n        (0, $dddbd0b30676c4ae$export$2e2bcd8739ae039).renderSpinner();\n        // 1) Get Search query\n        const query = (0, $4cb4e5e8d692772b$export$2e2bcd8739ae039).getQuery();\n        if (!query) return;\n        // 2) Load Search Results\n        await $0f1d4402dffacf5b$export$202b8e5cb363a0c4(query);\n        // ResultsView.render(model.state.search.results);\n        (0, $dddbd0b30676c4ae$export$2e2bcd8739ae039).render($0f1d4402dffacf5b$export$8d7f79465139ab72());\n        (0, $cfa940594ee109f7$export$2e2bcd8739ae039).render($0f1d4402dffacf5b$export$ca000e230c0caa3e.search);\n    } catch (err) {\n        console.error(err);\n    }\n};\nconst $f50bd1f2915ed0f2$var$controlPagination = function(goto) {\n    (0, $dddbd0b30676c4ae$export$2e2bcd8739ae039).render($0f1d4402dffacf5b$export$8d7f79465139ab72(goto));\n    (0, $cfa940594ee109f7$export$2e2bcd8739ae039).render($0f1d4402dffacf5b$export$ca000e230c0caa3e.search);\n};\nconst $f50bd1f2915ed0f2$var$controlServings = function(newServings) {\n    // Update the servings (in state)\n    $0f1d4402dffacf5b$export$5e23f4642ecad5ea(newServings);\n    // Update recipe view\n    (0, $d14dc0f178617192$export$2e2bcd8739ae039).update($0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe);\n};\nconst $f50bd1f2915ed0f2$var$controlAddBookmark = function() {\n    // 1) Add/ Remove bookmark\n    if (!$0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe.bookmarked) $0f1d4402dffacf5b$export$9810234b614cab40($0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe);\n    else $0f1d4402dffacf5b$export$52e7f13504596d3e($0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe.id);\n    // 2) Update recipe view\n    (0, $d14dc0f178617192$export$2e2bcd8739ae039).update($0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe);\n    // 3) Render bookmarks\n    (0, $5d1bb7e064b2cbd1$export$2e2bcd8739ae039).render($0f1d4402dffacf5b$export$ca000e230c0caa3e.bookmarks);\n};\nconst $f50bd1f2915ed0f2$var$controlBookmarks = function() {\n    (0, $5d1bb7e064b2cbd1$export$2e2bcd8739ae039).render($0f1d4402dffacf5b$export$ca000e230c0caa3e.bookmarks);\n};\nconst $f50bd1f2915ed0f2$var$controlAddRecipe = async function(newRecipe) {\n    try {\n        (0, $e5dc5dc5ede8bdf4$export$2e2bcd8739ae039).renderSpinner();\n        await $0f1d4402dffacf5b$export$d660c2254e74960d(newRecipe);\n        console.log($0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe);\n        // Render Recipe\n        (0, $d14dc0f178617192$export$2e2bcd8739ae039).render($0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe);\n        // Success Message\n        (0, $e5dc5dc5ede8bdf4$export$2e2bcd8739ae039).renderMessage();\n        // Render Bookmark view\n        (0, $5d1bb7e064b2cbd1$export$2e2bcd8739ae039).render($0f1d4402dffacf5b$export$ca000e230c0caa3e.bookmarks);\n        // Change ID in URL\n        window.history.pushState(null, \"\", `#${$0f1d4402dffacf5b$export$ca000e230c0caa3e.recipe.id}`);\n        // Close Message\n        setTimeout(function() {\n            (0, $e5dc5dc5ede8bdf4$export$2e2bcd8739ae039).toggleWindow();\n        }, (0, $ba30e20475feac5a$export$3ce8858248d89a69) * 1000);\n    } catch (err) {\n        console.error(err);\n        (0, $e5dc5dc5ede8bdf4$export$2e2bcd8739ae039).renderError(err.message);\n    }\n};\nconst $f50bd1f2915ed0f2$var$init = function() {\n    (0, $5d1bb7e064b2cbd1$export$2e2bcd8739ae039).addHandlerRender($f50bd1f2915ed0f2$var$controlBookmarks);\n    (0, $d14dc0f178617192$export$2e2bcd8739ae039).addHandlerRender($f50bd1f2915ed0f2$var$controlRecipes);\n    (0, $d14dc0f178617192$export$2e2bcd8739ae039).addHandlerUpdateServings($f50bd1f2915ed0f2$var$controlServings);\n    (0, $d14dc0f178617192$export$2e2bcd8739ae039).addHandlerAddBookmark($f50bd1f2915ed0f2$var$controlAddBookmark);\n    (0, $4cb4e5e8d692772b$export$2e2bcd8739ae039).addHandlerSearch($f50bd1f2915ed0f2$var$controlSearchResults);\n    (0, $cfa940594ee109f7$export$2e2bcd8739ae039).addHandlerClick($f50bd1f2915ed0f2$var$controlPagination);\n    (0, $e5dc5dc5ede8bdf4$export$2e2bcd8739ae039).addHandlerUpload($f50bd1f2915ed0f2$var$controlAddRecipe);\n};\n$f50bd1f2915ed0f2$var$init();\n\n\n//# sourceMappingURL=index.4e41bf8c.js.map\n","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(new __parcel__URL__(\"\").toString(),JSON.parse(\"[\\\"f9fpV\\\",\\\"index.4e41bf8c.js\\\",\\\"eyyUD\\\",\\\"icons.c14567a0.svg\\\"]\"));","import RecipeView from './views/recipeView.js';\r\nimport * as model from './model.js';\r\nimport SearchView from './views/SearchView.js';\r\nimport ResultsView from './views/resultsView.js';\r\nimport PaginationView from './views/paginationView.js';\r\nimport BookmarksView from './views/bookmarksView.js';\r\nimport AddRecipeView from './views/addRecipeView.js';\r\nimport addRecipeView from './views/addRecipeView.js';\r\nimport { MODAL_CLOSE_SEC } from './config.js';\r\nimport bookmarksView from './views/bookmarksView.js';\r\n\r\n// if (module.hot) {\r\n//   module.hot.accept();\r\n// }\r\nconst controlRecipes = async function () {\r\n  try {\r\n    const id = window.location.hash.slice(1);\r\n\r\n    if (!id) return;\r\n    // 1) Rendering Data\r\n    RecipeView.renderSpinner();\r\n\r\n    ResultsView.update(model.getSearchResultsPage());\r\n    BookmarksView.update(model.state.bookmarks);\r\n    await model.loadRecipe(id);\r\n    // 2) Rendering Recipe\r\n    RecipeView.render(model.state.recipe);\r\n    console.log(model.state.recipe);\r\n  } catch (err) {\r\n    RecipeView.renderError();\r\n    console.error(err);\r\n  }\r\n};\r\n\r\nconst controlSearchResults = async function () {\r\n  try {\r\n    ResultsView.renderSpinner();\r\n    // 1) Get Search query\r\n    const query = SearchView.getQuery();\r\n    if (!query) return;\r\n\r\n    // 2) Load Search Results\r\n    await model.loadSearchResults(query);\r\n\r\n    // ResultsView.render(model.state.search.results);\r\n    ResultsView.render(model.getSearchResultsPage());\r\n    PaginationView.render(model.state.search);\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n\r\nconst controlPagination = function (goto) {\r\n  ResultsView.render(model.getSearchResultsPage(goto));\r\n  PaginationView.render(model.state.search);\r\n};\r\n\r\nconst controlServings = function (newServings) {\r\n  // Update the servings (in state)\r\n  model.updateServings(newServings);\r\n  // Update recipe view\r\n  RecipeView.update(model.state.recipe);\r\n};\r\n\r\nconst controlAddBookmark = function () {\r\n  // 1) Add/ Remove bookmark\r\n  if (!model.state.recipe.bookmarked) model.addBookmarks(model.state.recipe);\r\n  else model.deleteBookmarks(model.state.recipe.id);\r\n\r\n  // 2) Update recipe view\r\n  RecipeView.update(model.state.recipe);\r\n\r\n  // 3) Render bookmarks\r\n  BookmarksView.render(model.state.bookmarks);\r\n};\r\n\r\nconst controlBookmarks = function () {\r\n  BookmarksView.render(model.state.bookmarks);\r\n};\r\n\r\nconst controlAddRecipe = async function (newRecipe) {\r\n  try {\r\n    addRecipeView.renderSpinner();\r\n    await model.uploadRecipe(newRecipe);\r\n    console.log(model.state.recipe);\r\n    // Render Recipe\r\n    RecipeView.render(model.state.recipe);\r\n\r\n    // Success Message\r\n    addRecipeView.renderMessage();\r\n\r\n    // Render Bookmark view\r\n    bookmarksView.render(model.state.bookmarks);\r\n\r\n    // Change ID in URL\r\n    window.history.pushState(null, '', `#${model.state.recipe.id}`);\r\n    // Close Message\r\n    setTimeout(function () {\r\n      addRecipeView.toggleWindow();\r\n    }, MODAL_CLOSE_SEC * 1000);\r\n  } catch (err) {\r\n    console.error(err);\r\n    addRecipeView.renderError(err.message);\r\n  }\r\n};\r\n\r\nconst init = function () {\r\n  BookmarksView.addHandlerRender(controlBookmarks);\r\n  RecipeView.addHandlerRender(controlRecipes);\r\n  RecipeView.addHandlerUpdateServings(controlServings);\r\n  RecipeView.addHandlerAddBookmark(controlAddBookmark);\r\n  SearchView.addHandlerSearch(controlSearchResults);\r\n  PaginationView.addHandlerClick(controlPagination);\r\n  AddRecipeView.addHandlerUpload(controlAddRecipe);\r\n};\r\ninit();\r\n","import icons from 'url:../../img/icons.svg';\r\nimport View from './View.js';\r\n\r\nclass RecipeView extends View {\r\n  _parentEl = document.querySelector('.recipe');\r\n  _errorMessage = 'We could not find that recipe. Please try another one! ';\r\n  _message = '';\r\n\r\n  addHandlerRender(handler) {\r\n    ['hashchange', 'load'].forEach(ev => window.addEventListener(ev, handler));\r\n  }\r\n\r\n  addHandlerUpdateServings(handler) {\r\n    this._parentEl.addEventListener('click', function (e) {\r\n      const btn = e.target.closest('.btn--update-servings');\r\n      if (!btn) return;\r\n      const updateTo = +btn.dataset.updateTo;\r\n      if (updateTo > 0) handler(updateTo);\r\n    });\r\n  }\r\n\r\n  addHandlerAddBookmark(handler) {\r\n    this._parentEl.addEventListener('click', function (e) {\r\n      const btn = e.target.closest('.btn--bookmark');\r\n      if (!btn) return;\r\n      handler();\r\n    });\r\n  }\r\n\r\n  _generateMarkup() {\r\n    return `\r\n        <figure class=\"recipe__fig\">\r\n            <img src=\"${this._data.image}\" alt=\"${\r\n      this._data.title\r\n    }\" class=\"recipe__img\" />\r\n            <h1 class=\"recipe__title\">\r\n                <span>${this._data.title}</span>\r\n            </h1>\r\n            </figure>\r\n\r\n            <div class=\"recipe__details\">\r\n            <div class=\"recipe__info\">\r\n                <svg class=\"recipe__info-icon\">\r\n                <use href=\"${icons}#icon-clock\"></use>\r\n                </svg>\r\n                <span class=\"recipe__info-data recipe__info-data--minutes\">${\r\n                  this._data.cookingTime\r\n                }</span>\r\n                <span class=\"recipe__info-text\">minutes</span>\r\n            </div>\r\n            <div class=\"recipe__info\">\r\n                <svg class=\"recipe__info-icon\">\r\n                <use href=\"${icons}#icon-users\"></use>\r\n                </svg>\r\n                <span class=\"recipe__info-data recipe__info-data--people\">${\r\n                  this._data.servings\r\n                }</span>\r\n                <span class=\"recipe__info-text\">servings</span>\r\n\r\n                <div class=\"recipe__info-buttons\">\r\n                <button data-update-to=\"${this._data.servings - 1}\"\r\n                 class=\"btn--tiny btn--update-servings\">\r\n                    <svg>\r\n                    <use href=\"${icons}#icon-minus-circle\"></use>\r\n                    </svg>\r\n                </button>\r\n                <button data-update-to=\"${this._data.servings + 1}\"\r\n                 class=\"btn--tiny btn--update-servings\" >\r\n                    <svg>\r\n                    <use href=\"${icons}#icon-plus-circle\"></use>\r\n                    </svg>\r\n                </button>\r\n                </div>\r\n            </div>\r\n            <div class=\"recipe__user-generated ${\r\n              this._data.key ? '' : 'hidden'\r\n            }\">\r\n              <svg>\r\n                <use href=\"${icons}#icon-user\"></use>\r\n              </svg>\r\n            </div>\r\n            <button class=\"btn--round btn--bookmark\">\r\n                <svg class=\"\">\r\n                <use href=\"${icons}#icon-bookmark${\r\n      this._data.bookmarked ? '-fill' : ''\r\n    }\"></use>\r\n                </svg>\r\n            </button>\r\n            </div>\r\n\r\n\r\n            <div class=\"recipe__ingredients\">\r\n            <h2 class=\"heading--2\">Recipe ingredients</h2>\r\n            <ul class=\"recipe__ingredient-list\">\r\n                ${this._data.ingredients\r\n                  .map(ing => this._renderIngredient(ing))\r\n                  .join('')}\r\n            </ul>\r\n            </div>\r\n\r\n            <div class=\"recipe__directions\">\r\n            <h2 class=\"heading--2\">How to cook it</h2>\r\n            <p class=\"recipe__directions-text\">\r\n                This recipe was carefully designed and tested by\r\n                <span class=\"recipe__publisher\">${\r\n                  this._data.publisher\r\n                }</span>. Please check out\r\n                directions at their website.\r\n            </p>\r\n            <a\r\n                class=\"btn--small recipe__btn\"\r\n                href=\"${this._data.sourceUrl}\"\r\n                target=\"_blank\"\r\n            >\r\n                <span>Directions</span>\r\n                <svg class=\"search__icon\">\r\n                <use href=\"${icons}#icon-arrow-right\"></use>\r\n                </svg>\r\n            </a>\r\n            </div>\r\n        `;\r\n  }\r\n\r\n  _renderIngredient(ing) {\r\n    return `\r\n        <li class=\"recipe__ingredient\">\r\n            <svg class=\"recipe__icon\">\r\n                <use href=\"${icons}#icon-check\"></use>\r\n            </svg>\r\n            <div class=\"recipe__quantity\">${\r\n              ing.quantity ? ing.quantity : ''\r\n            }</div>\r\n            <div class=\"recipe__description\">\r\n                <span class=\"recipe__unit\">${ing.unit}</span>\r\n                ${ing.description}\r\n            </div>\r\n        </li>\r\n    `;\r\n  }\r\n}\r\n\r\nexport default new RecipeView();\r\n","module.exports = new __parcel__URL__(\"icons.c14567a0.svg\").toString();","import icons from 'url:../../img/icons.svg';\r\n\r\nexport default class View {\r\n  _data;\r\n  render(data, render = true) {\r\n    if (!data || (Array.isArray(data) && data.length === 0))\r\n      return this.renderError();\r\n\r\n    this._data = data;\r\n    const markup = this._generateMarkup();\r\n\r\n    if (!render) return markup;\r\n\r\n    this._clear();\r\n    this._parentEl.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  update(data) {\r\n    // if (!data || (Array.isArray(data) && data.length === 0))\r\n    //   return this.renderError();\r\n    this._data = data;\r\n    const newMarkup = this._generateMarkup();\r\n\r\n    const newDOM = document.createRange().createContextualFragment(newMarkup);\r\n    const newElement = Array.from(newDOM.querySelectorAll('*'));\r\n    const curElement = Array.from(this._parentEl.querySelectorAll('*'));\r\n    // console.log(newElement);\r\n    // console.log(curElement);\r\n\r\n    newElement.forEach((newEl, i) => {\r\n      const curEl = curElement[i];\r\n      // console.log(curEl, newEl.isEqualNode(curEl));\r\n\r\n      // update changed text\r\n      if (\r\n        !newEl.isEqualNode(curEl) &&\r\n        newEl.firstChild?.nodeValue.trim() !== ''\r\n      ) {\r\n        curEl.textContent = newEl.textContent;\r\n      }\r\n\r\n      // update changed attribute\r\n      if (!newEl.isEqualNode(curEl))\r\n        Array.from(newEl.attributes).forEach(attr =>\r\n          curEl.setAttribute(attr.name, attr.value)\r\n        );\r\n    });\r\n  }\r\n\r\n  _clear() {\r\n    this._parentEl.innerHTML = '';\r\n  }\r\n\r\n  renderSpinner() {\r\n    const markup = `\r\n        <div class=\"spinner\">\r\n        <svg>\r\n            <use href=\"${icons}#icon-loader\"></use>\r\n        </svg>\r\n        </div>\r\n    `;\r\n    this._clear();\r\n    this._parentEl.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  renderError(message = this._errorMessage) {\r\n    const markup = `\r\n      <div class=\"error\">\r\n        <div>\r\n          <svg>\r\n            <use href=\"${icons}#icon-alert-triangle\"></use>\r\n          </svg>\r\n        </div>\r\n        <p>${message}</p>\r\n      </div>\r\n    `;\r\n    this._clear();\r\n    this._parentEl.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  renderMessage(message = this._message) {\r\n    const markup = `\r\n      <div class=\"message\">\r\n        <div>\r\n          <svg>\r\n            <use href=\"${icons}#icon-smile\"></use>\r\n          </svg>\r\n        </div>\r\n        <p>${message}</p>\r\n      </div>\r\n    `;\r\n    this._clear();\r\n    this._parentEl.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n}\r\n","import { API_URL, RES_PER_PAGE, KEY } from './config.js';\r\n// import { getJSON, sendJSON } from './helper.js';\r\nimport { AJAX } from './helper.js';\r\n\r\nexport const state = {\r\n  recipe: {},\r\n  search: {\r\n    query: '',\r\n    results: [],\r\n    page: 1,\r\n    resultsPerPage: RES_PER_PAGE,\r\n  },\r\n  bookmarks: [],\r\n};\r\n\r\nconst createRecipeObject = function (data) {\r\n  const { recipe } = data.data;\r\n  return {\r\n    id: recipe.id,\r\n    title: recipe.title,\r\n    publisher: recipe.publisher,\r\n    sourceUrl: recipe.source_url,\r\n    image: recipe.image_url,\r\n    servings: recipe.servings,\r\n    cookingTime: recipe.cooking_time,\r\n    ingredients: recipe.ingredients,\r\n    ...(recipe.key && { key: recipe.key }),\r\n  };\r\n};\r\n\r\nexport const loadRecipe = async function (id) {\r\n  try {\r\n    const data = await AJAX(`${API_URL}${id}?key=${KEY}`);\r\n    state.recipe = createRecipeObject(data);\r\n    if (state.bookmarks.some(bookmark => bookmark.id === id))\r\n      state.recipe.bookmarked = true;\r\n    else state.recipe.bookmarked = false;\r\n  } catch (err) {\r\n    console.error(`${err} 💥💥💥`);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const loadSearchResults = async function (query) {\r\n  try {\r\n    state.search.query = query;\r\n    const data = await AJAX(`${API_URL}?search=${query}&key=${KEY}`);\r\n    state.search.results = data.data.recipes.map(rec => {\r\n      return {\r\n        id: rec.id,\r\n        title: rec.title,\r\n        publisher: rec.publisher,\r\n        image: rec.image_url,\r\n        ...(rec.key && { key: rec.key }),\r\n      };\r\n    });\r\n    state.search.page = 1;\r\n  } catch (err) {\r\n    console.error(`${err} 💥💥💥`);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const getSearchResultsPage = function (page = state.search.page) {\r\n  state.search.page = page;\r\n  const start = (page - 1) * state.search.resultsPerPage;\r\n  const end = page * state.search.resultsPerPage;\r\n  return state.search.results.slice(start, end);\r\n};\r\n\r\nexport const updateServings = function (newServings) {\r\n  state.recipe.ingredients.forEach(ing => {\r\n    ing.quantity = (ing.quantity * newServings) / state.recipe.servings;\r\n  });\r\n  state.recipe.servings = newServings;\r\n};\r\n\r\nconst persistBookmark = function () {\r\n  localStorage.setItem('bookmarks', JSON.stringify(state.bookmarks));\r\n};\r\n\r\nexport const addBookmarks = function (recipe) {\r\n  // Add bookmark\r\n  state.bookmarks.push(recipe);\r\n\r\n  // Mark current recipe as bookmark\r\n  if (recipe.id === state.recipe.id) state.recipe.bookmarked = true;\r\n  persistBookmark();\r\n};\r\n\r\nexport const deleteBookmarks = function (id) {\r\n  // Delete Bookmarked\r\n  const index = state.bookmarks.findIndex(el => el.id === id);\r\n  state.bookmarks.splice(index, 1);\r\n\r\n  // Mark current recipe as not a bookmark\r\n  if (id === state.recipe.id) state.recipe.bookmarked = false;\r\n  persistBookmark();\r\n};\r\n\r\nconst init = function () {\r\n  const storage = localStorage.getItem('bookmarks');\r\n  if (storage) state.bookmarks = JSON.parse(storage);\r\n};\r\ninit();\r\n\r\nexport const uploadRecipe = async function (newRecipe) {\r\n  try {\r\n    const ingredients = Object.entries(newRecipe)\r\n      .filter(entry => entry[0].startsWith('ingredient') && entry[1] !== '')\r\n      .map(ing => {\r\n        // const ingArr = ing[1].replaceAll(' ', '').split(',');\r\n        const ingArr = ing[1].split(',').map(el => el.trim());\r\n        if (ingArr.length !== 3)\r\n          throw new Error(\r\n            'Wrong ingredient format! Please use the correct format :)'\r\n          );\r\n        const [quantity, unit, description] = ingArr;\r\n        return { quantity: quantity ? +quantity : null, unit, description };\r\n      });\r\n    const recipe = {\r\n      title: newRecipe.title,\r\n      publisher: newRecipe.publisher,\r\n      source_url: newRecipe.sourceUrl,\r\n      image_url: newRecipe.image,\r\n      servings: +newRecipe.servings,\r\n      cooking_time: +newRecipe.cookingTime,\r\n      ingredients,\r\n    };\r\n    console.log(recipe);\r\n    const data = await AJAX(`${API_URL}?key=${KEY}`, recipe);\r\n    state.recipe = createRecipeObject(data);\r\n    addBookmarks(state.recipe);\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n","export const API_URL = 'https://forkify-api.herokuapp.com/api/v2/recipes/';\r\nexport const TIMEOUT_SEC = 10;\r\nexport const RES_PER_PAGE = 15;\r\nexport const KEY = 'ed8ed486-9f90-4060-818f-bdafe018762b';\r\nexport const MODAL_CLOSE_SEC = 2;\r\n","import { TIMEOUT_SEC } from './config.js';\r\n\r\nconst timeout = function (s) {\r\n  return new Promise(function (_, reject) {\r\n    setTimeout(function () {\r\n      reject(new Error(`Request took too long! Timeout after ${s} second`));\r\n    }, s * 1000);\r\n  });\r\n};\r\n\r\nexport const AJAX = async function (url, uploadData = undefined) {\r\n  try {\r\n    const fetchPro = uploadData\r\n      ? fetch(url, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(uploadData),\r\n        })\r\n      : fetch(url);\r\n    const res = await Promise.race([fetchPro, timeout(TIMEOUT_SEC)]);\r\n    const data = await res.json();\r\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\r\n    return data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\n/* export const getJSON = async function (url) {\r\n  try {\r\n    const fetchPro = fetch(url);\r\n    const res = await Promise.race([fetchPro, timeout(TIMEOUT_SEC)]);\r\n    const data = await res.json();\r\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\r\n    return data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const sendJSON = async function (url, uploadData) {\r\n  try {\r\n    const fetchPro = fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(uploadData),\r\n    });\r\n    const res = await Promise.race([fetchPro, timeout(TIMEOUT_SEC)]);\r\n    const data = await res.json();\r\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\r\n    return data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n}; */\r\n","class SearchView {\r\n  _parentEl = document.querySelector('.search');\r\n\r\n  getQuery() {\r\n    const query = this._parentEl.querySelector('.search__field').value;\r\n    this._clearInput();\r\n    return query;\r\n  }\r\n\r\n  _clearInput() {\r\n    this._parentEl.querySelector('.search__field').value = '';\r\n  }\r\n\r\n  addHandlerSearch(handler) {\r\n    this._parentEl.addEventListener('submit', function (e) {\r\n      e.preventDefault();\r\n      handler();\r\n    });\r\n  }\r\n}\r\n\r\nexport default new SearchView();\r\n","import View from './View.js';\r\nimport previewView from './previewView.js';\r\nimport icons from 'url:../../img/icons.svg';\r\n\r\nclass ResultsView extends View {\r\n  _parentEl = document.querySelector('.results');\r\n  _errorMessage = 'No recipes found for your query! Please try again ;)';\r\n  _message = '';\r\n\r\n  _generateMarkup() {\r\n    return this._data.map(result => previewView.render(result, false)).join('');\r\n  }\r\n}\r\n\r\nexport default new ResultsView();\r\n","import View from './View.js';\r\nimport icons from 'url:../../img/icons.svg';\r\n\r\nclass PreviewView extends View {\r\n  _parentEl = '';\r\n\r\n  _generateMarkup() {\r\n    const id = window.location.hash.slice(1);\r\n\r\n    return `\r\n    <li class=\"preview\">\r\n      <a class=\"preview__link ${\r\n        this._data.id === id ? 'preview__link--active' : ''\r\n      }\" href=\"#${this._data.id}\">\r\n        <figure class=\"preview__fig\">\r\n          <img src=\"${this._data.image}\" alt=\"${this._data.title}\" />\r\n        </figure>\r\n        <div class=\"preview__data\">\r\n          <h4 class=\"preview__title\">${this._data.title}</h4>\r\n          <p class=\"preview__publisher\">${this._data.publisher}</p>\r\n          <div class=\"preview__user-generated ${\r\n            this._data.key ? '' : 'hidden'\r\n          }\">\r\n              <svg>\r\n                <use href=\"${icons}#icon-user\"></use>\r\n              </svg>\r\n          </div>\r\n        </div>\r\n      </a>\r\n    </li>\r\n    `;\r\n  }\r\n}\r\n\r\nexport default new PreviewView();\r\n","import View from './View.js';\r\nimport icons from 'url:../../img/icons.svg';\r\n\r\nclass PaginationView extends View {\r\n  _parentEl = document.querySelector('.pagination');\r\n\r\n  addHandlerClick(handler) {\r\n    this._parentEl.addEventListener('click', function (e) {\r\n      const btn = e.target.closest('.btn--inline');\r\n      if (!btn) return;\r\n      console.log(btn);\r\n      const goto = +btn.dataset.goto;\r\n      handler(goto);\r\n    });\r\n  }\r\n\r\n  _generateMarkup() {\r\n    const numPage = Math.ceil(\r\n      this._data.results.length / this._data.resultsPerPage\r\n    );\r\n    const curPage = this._data.page;\r\n\r\n    // Page 1, and there are another pages\r\n    if (curPage === 1 && numPage > 1) {\r\n      return this._generateNextBtn(curPage);\r\n    }\r\n\r\n    // last page\r\n    if (numPage > 1 && curPage === numPage) {\r\n      return this._generatePerviousBtn(curPage);\r\n    }\r\n\r\n    // middle pages\r\n    if (curPage > 1 && curPage < numPage) {\r\n      return `\r\n        ${this._generatePerviousBtn(curPage)}\r\n        ${this._generateNextBtn(curPage)}\r\n      `;\r\n    }\r\n\r\n    // Page 1, and No another pages\r\n    return '';\r\n  }\r\n  _generatePerviousBtn(curPage) {\r\n    return `\r\n          <button data-goto=\"${curPage - 1}\"\r\n           class=\"btn--inline pagination__btn--prev\">\r\n            <svg class=\"search__icon\">\r\n              <use href=\"${icons}#icon-arrow-left\"></use>\r\n            </svg>\r\n            <span>Page ${curPage - 1}</span>\r\n          </button>\r\n      `;\r\n  }\r\n  _generateNextBtn(curPage) {\r\n    return `\r\n          <button data-goto=\"${curPage + 1}\"\r\n           class=\"btn--inline pagination__btn--next\">\r\n            <span>Page ${curPage + 1}</span>\r\n            <svg class=\"search__icon\">\r\n              <use href=\"${icons}#icon-arrow-right\"></use>\r\n            </svg>\r\n          </button>\r\n      `;\r\n  }\r\n}\r\n\r\nexport default new PaginationView();\r\n","import View from './View.js';\r\nimport previewView from './previewView.js';\r\nimport icons from 'url:../../img/icons.svg';\r\n\r\nclass BookmarksView extends View {\r\n  _parentEl = document.querySelector('.bookmarks__list');\r\n  _errorMessage = 'No bookmarks yet. Find a nice recipe and bookmark it :)';\r\n  _message = '';\r\n\r\n  addHandlerRender(handler) {\r\n    window.addEventListener('load', handler);\r\n  }\r\n\r\n  _generateMarkup() {\r\n    return this._data\r\n      .map(bookmark => previewView.render(bookmark, false))\r\n      .join('');\r\n  }\r\n}\r\n\r\nexport default new BookmarksView();\r\n","import View from './View.js';\r\nimport icons from 'url:../../img/icons.svg';\r\n\r\nclass AddRecipeView extends View {\r\n  _parentEl = document.querySelector('.upload');\r\n  _message = 'Recipe was successfully uploaded :)';\r\n  _window = document.querySelector('.add-recipe-window');\r\n  _overlay = document.querySelector('.overlay');\r\n\r\n  _btnOpen = document.querySelector('.nav__btn--add-recipe');\r\n  _btnClose = document.querySelector('.btn--close-modal');\r\n\r\n  constructor() {\r\n    super();\r\n    this._addHandlerShowWindow();\r\n    this._addHandlerHideWindow();\r\n  }\r\n\r\n  toggleWindow() {\r\n    this._overlay.classList.toggle('hidden');\r\n    this._window.classList.toggle('hidden');\r\n  }\r\n  _addHandlerShowWindow() {\r\n    this._btnOpen.addEventListener('click', this.toggleWindow.bind(this));\r\n  }\r\n\r\n  _addHandlerHideWindow() {\r\n    this._btnClose.addEventListener('click', this.toggleWindow.bind(this));\r\n    this._overlay.addEventListener('click', this.toggleWindow.bind(this));\r\n  }\r\n\r\n  addHandlerUpload(handler) {\r\n    this._parentEl.addEventListener('submit', function (e) {\r\n      e.preventDefault();\r\n      const dataArr = [...new FormData(this)];\r\n      const data = Object.fromEntries(dataArr);\r\n      handler(data);\r\n    });\r\n  }\r\n  _generateMarkup() {}\r\n}\r\n\r\nexport default new AddRecipeView();\r\n"],"names":["$parcel$interopDefault","a","__esModule","default","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$18c11f3350a906ea$export$6503ec6e8aabbaf","set","v","enumerable","configurable","$18c11f3350a906ea$var$mapping","Map","baseUrl","manifest","i","length","path","URL","url","toString","JSON","parse","$77b629c0b49e8bca$exports","$3a07c34e115c11c9$export$2e2bcd8739ae039","_data","render","data","Array","isArray","renderError","markup","_generateMarkup","_clear","_parentEl","insertAdjacentHTML","update","newMarkup","newElement","from","newDOM","document","createRange","createContextualFragment","querySelectorAll","curElement","forEach","newEl","curEl","isEqualNode","firstChild","nodeValue","trim","textContent","attributes","attr","setAttribute","name","value","innerHTML","renderSpinner","message","_errorMessage","renderMessage","_message","$d14dc0f178617192$var$RecipeView","querySelector","addHandlerRender","handler","ev","window","addEventListener","addHandlerUpdateServings","e","btn","target","closest","updateTo","dataset","addHandlerAddBookmark","image","title","cookingTime","servings","key","bookmarked","ingredients","map","ing","_renderIngredient","join","publisher","sourceUrl","quantity","unit","description","$d14dc0f178617192$export$2e2bcd8739ae039","$ba30e20475feac5a$export$923ea8233b386e99","$ba30e20475feac5a$export$7167c830cefcb6b5","$d3824bf2ef2465db$export$2b3ff41fecbef7c8","uploadData","fetchPro","fetch","method","headers","body","stringify","res","Promise","race","_","reject","setTimeout","s","json","ok","status","$0f1d4402dffacf5b$export$ca000e230c0caa3e","recipe","search","query","results","page","resultsPerPage","bookmarks","$0f1d4402dffacf5b$var$createRecipeObject","source_url","image_url","cooking_time","$0f1d4402dffacf5b$export$b96725c7a035d60b","some","bookmark","console","error","$0f1d4402dffacf5b$export$202b8e5cb363a0c4","recipes","rec","$0f1d4402dffacf5b$export$8d7f79465139ab72","start","end","slice","$0f1d4402dffacf5b$export$5e23f4642ecad5ea","newServings","$0f1d4402dffacf5b$var$persistBookmark","localStorage","setItem","$0f1d4402dffacf5b$export$9810234b614cab40","push","$0f1d4402dffacf5b$export$52e7f13504596d3e","index","findIndex","el","splice","$0f1d4402dffacf5b$var$init","storage","getItem","$0f1d4402dffacf5b$export$d660c2254e74960d","newRecipe","entries","filter","entry","startsWith","ingArr","split","log","$4cb4e5e8d692772b$var$SearchView","getQuery","_clearInput","addHandlerSearch","preventDefault","$4cb4e5e8d692772b$export$2e2bcd8739ae039","$a68ceb92eae160df$export$2e2bcd8739ae039","location","hash","$dddbd0b30676c4ae$var$ResultsView","result","$dddbd0b30676c4ae$export$2e2bcd8739ae039","$cfa940594ee109f7$var$PaginationView","addHandlerClick","goto","numPage","Math","ceil","curPage","_generateNextBtn","_generatePerviousBtn","$cfa940594ee109f7$export$2e2bcd8739ae039","$5d1bb7e064b2cbd1$var$BookmarksView","$5d1bb7e064b2cbd1$export$2e2bcd8739ae039","$e5dc5dc5ede8bdf4$var$AddRecipeView","_window","_overlay","_btnOpen","_btnClose","constructor","_addHandlerShowWindow","_addHandlerHideWindow","toggleWindow","classList","toggle","bind","addHandlerUpload","fromEntries","FormData","$e5dc5dc5ede8bdf4$export$2e2bcd8739ae039","$f50bd1f2915ed0f2$var$controlRecipes","$f50bd1f2915ed0f2$var$controlSearchResults","$f50bd1f2915ed0f2$var$controlAddRecipe","history","pushState"],"version":3,"file":"index.4e41bf8c.js.map"}